(this["webpackChunktyphon"]=this["webpackChunktyphon"]||[]).push([[495],{81150:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},64765:function(e,t,n){"use strict";var a=n(46916),l=n(27007),r=n(19670),o=n(84488),s=n(81150),i=n(41340),c=n(58173),u=n(97651);l("search",(function(e,t,n){return[function(t){var n=o(this),l=void 0==t?void 0:c(t,e);return l?a(l,t,n):new RegExp(t)[e](i(n))},function(e){var a=r(this),l=i(e),o=n(t,a,l);if(o.done)return o.value;var c=a.lastIndex;s(c,0)||(a.lastIndex=0);var d=u(a,l);return s(a.lastIndex,c)||(a.lastIndex=c),null===d?-1:d.index}]}))},11343:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Dt}});n(68309);var a=n(66252),l=n(56612),r={class:"card flex flex-col p-0"},o={class:"relative rounded-lg flex divide-x divideColor","aria-label":"Tabs"},s=["onClick","aria-current"],i={class:"bg-primary-10 dark:bg-dark-3 hidden ml-3 py-0.5 px-2.5 rounded-full text-xs font-medium md:inline-block"},c={class:"p-2"};function u(e,t,n,u,d,p){var f=(0,a.up)("TokensTab"),m=(0,a.up)("NFTsTab");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("nav",o,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tabs,(function(t,n){return(0,a.wg)(),(0,a.iD)("button",{key:t.name,onClick:function(){e.changeTab(t.value)},class:(0,l.C_)([[0===n?"rounded-l-lg":"",n===e.tabs.length-1?"rounded-r-lg":""],"group relative overflow-hidden labelColor3 py-4 px-4 text-sm font-medium text-center hover:bg-primary-2 dark:hover:bg-opacity-5 focus:z-10 focus:outline-none"]),style:{"min-width":"200px"},"aria-current":e.currentTab==t.value?"page":void 0},[(0,a._)("span",null,(0,l.zw)(t.name),1),(0,a._)("span",i,(0,l.zw)(t.count),1),(0,a._)("span",{"aria-hidden":"true",class:(0,l.C_)([e.currentTab==t.value?"bg-primary":"bg-transparent","absolute inset-x-0 bottom-0 h-0.5"])},null,2)],10,s)})),128))]),(0,a._)("div",c,["tokens"==e.currentTab?((0,a.wg)(),(0,a.j4)(f,{key:0})):((0,a.wg)(),(0,a.j4)(m,{key:1}))])])}var d=n(95082),p=(n(21249),n(57327),n(41539),n(74916),n(64765),n(49963)),f={key:0,class:"flex flex-col items-center justify-center py-40"},m={class:"mt-3 font-medium text-primary-30 text-xl"},v={key:1,class:"flex flex-col pt-2"},g={class:"flex items-center justify-between w-full"},x={class:"flex rounded-md bg-primary-3 dark:bg-dark-3"},b={class:"pl-3 flex items-center pointer-events-none"},w=["placeholder"],y=["disabled"],k={class:"flex items-center justify-between space-x-3"},h={class:"font-medium"},T={class:"mt-6 pb-56 flex-grow flex overflow-x-auto card2"},_={class:"min-w-full table-auto divide-y divideColor"},I={class:"sticky top-0 bg-primary-6 dark:bg-dark z-10 shadow-sm text-xs labelColor3"},C={scope:"col",class:"w-full px-6 py-3 text-left font-medium uppercase tracking-wider"},N={scope:"col",class:"px-6 py-3 text-center font-medium uppercase tracking-wider"},A={scope:"col",class:"px-6 py-3 text-center font-medium uppercase tracking-wider"},z={scope:"col",class:"px-6 py-3 text-center font-medium uppercase tracking-wider"},F={class:"text-sm divide-y divideColor dark:divide-dark-2"},S={class:"p-2 w-full"},D={class:"flex items-center space-x-2"},Z={class:"w-9 h-9 rounded-full flex items-center justify-center bg-primary-10 dark:bg-dark"},$=["src"],j={key:1},M={class:"p-2"},H={class:"bg-primary-10 dark:bg-dark py-1 px-3 rounded-md text-center"},W={class:"text-center p-2"},V={class:"text-center p-2"},B=["onClick"],L={class:"font-medium"};function U(e,t,n,r,o,s){var i=(0,a.up)("md-icon"),c=(0,a.up)("SearchIcon"),u=(0,a.up)("token-details"),d=(0,a.up)("AppPopover"),U=(0,a.Q2)("middle-truncate");return 0==e.filteredTokens.length&&""==e.search?((0,a.wg)(),(0,a.iD)("div",f,[(0,a.Wm)(i,{icon:e.circleIcon,size:75,class:"text-primary-30"},null,8,["icon"]),(0,a._)("span",m,(0,l.zw)(e.$t("noTokens")),1)])):((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",g,[(0,a._)("div",x,[(0,a._)("div",b,[(0,a.Wm)(c,{class:"h-5 w-5 text-gray-500","aria-hidden":"true"})]),(0,a.wy)((0,a._)("input",{type:"text",class:"placeholder-gray-500 focus:outline-none p-3 text-xs w-full bg-white bg-opacity-0 dark:text-white w-[600px] max-w-full",placeholder:e.$t("tokensSearch"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.search=t})},null,8,w),[[p.nr,e.search]])]),(0,a._)("button",{onClick:t[1]||(t[1]=function(){return e.sendSelectedTokens&&e.sendSelectedTokens.apply(e,arguments)}),class:(0,l.C_)(["rounded-xl py-3 shadow-sm text-center text-xs text-white pl-4 pr-2",e.isAnyTokenSelected?"bg-primary hover:bg-opacity-90":"bg-gray-400"]),disabled:!e.isAnyTokenSelected},[(0,a._)("div",k,[(0,a._)("span",h,(0,l.zw)(e.$t("sendSelectedTokens")),1),(0,a.Wm)(i,{icon:e.mdiSend,size:20},null,8,["icon"])])],10,y)]),(0,a._)("div",T,[(0,a._)("table",_,[(0,a._)("thead",null,[(0,a._)("tr",I,[(0,a._)("th",C,(0,l.zw)(e.$t("assetId")),1),(0,a._)("th",N,(0,l.zw)(e.$t("token")),1),(0,a._)("th",A,(0,l.zw)(e.$t("balance")),1),(0,a._)("th",z,(0,l.zw)(e.$t("action")),1)])]),(0,a._)("tbody",F,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.filteredTokens,(function(t,n){return(0,a.wg)(),(0,a.iD)("tr",{key:n,class:"text-xs labelColor3 dark:bg-dark-3"},[(0,a._)("td",S,[(0,a.Wm)(d,{class:"max-w-lg"},{button:(0,a.w5)((function(){return[(0,a._)("div",D,[(0,a._)("div",Z,[e.getAssetLogo(t)?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"object-contain m-1",src:e.getAssetLogo(t),alt:""},null,8,$)):((0,a.wg)(),(0,a.iD)("span",j,"T"))]),(0,a._)("div",null,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",null,[(0,a.Uk)((0,l.zw)(e.$filters.getAssetId(t)),1)])),[[U,50]])])])]})),popup:(0,a.w5)((function(){return[(0,a.Wm)(u,{token:t},null,8,["token"])]})),_:2},1024)]),(0,a._)("td",null,[(0,a.Wm)(d,{class:"max-w-lg",placement:"right"},{button:(0,a.w5)((function(){return[(0,a._)("div",M,[(0,a._)("span",H,(0,l.zw)(e.getBadgeTitle(t)),1)])]})),popup:(0,a.w5)((function(){return[(0,a.Wm)(u,{token:t},null,8,["token"])]})),_:2},1024)]),(0,a._)("td",W,(0,l.zw)(e.getFormattedAssetValue(t)),1),(0,a._)("td",V,[(0,a._)("button",{onClick:function(n){return e.toggleSelection(t)},class:(0,l.C_)(["w-full rounded py-1.5 shadow-sm text-center text-xs flex items-center justify-between pl-2.5 pr-1 rounded-md",e.selectedTokens[t.assetId]?"bg-primary text-white hover:bg-opacity-90":"border border-primary text-primary hover:bg-white dark:hover:bg-dark-2"])},[(0,a._)("span",L,(0,l.zw)(e.$t("select")),1),(0,a.Wm)(i,{icon:e.selectIcon,size:20},null,8,["icon"])],10,B)])])})),128))])])])]))}n(26833);function P(e,t){return(0,a.wg)(),(0,a.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Wm)("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])}var q=n(45364),E=n(23009),K=(n(26699),n(32023),n(92222),n(47042),n(2262)),Y=n(93513),O=n(55317),Q=n(42119),R=n(4e4),G=function(){var e=(0,Q.tv)(),t=(0,R.X)(),n=(0,a.Fl)((function(){return t.activeAccount})),l=(0,K.iH)(""),r=(0,a.Fl)((function(){var e,n;return null!==(e=null===(n=t.activeAccount)||void 0===n?void 0:n.tokenRegistry)&&void 0!==e?e:{}})),o=(0,a.Fl)((function(){var e,n;return null!==(e=null===(n=t.activeAccount)||void 0===n?void 0:n.nftMetadata)&&void 0!==e?e:{}})),s=(0,a.Fl)((function(){return n.value.tokenBalance.map((function(e){return(0,d.Z)((0,d.Z)({},e),{},{assetId:(0,Y.TN)(e)})}))})),i=(0,a.Fl)((function(){var e=s.value.filter((function(e){return void 0===o.value[(0,Y.TN)(e)]||e.amount.gt(1)}));return e.filter((function(e){return e.policyId.includes(l.value)||(0,Y.TN)(e).includes(l.value)||(0,Y.Vr)(e).includes(l.value)||(0,Y.Pj)(e.assetName).toLowerCase().includes(l.value.toLowerCase())||e.assetName.toLowerCase().includes(l.value.toLowerCase())}))})),c=function(t){e.push({path:"/wallet",query:{action:"addToken",assetId:(0,Y.TN)(t)}})},u=function(e){return(0,Y.UH)(e,r.value)},p=function(e){var t=r.value[(0,Y.TN)(e)];return t&&t.logo?"data:image/png;base64,".concat(t.logo):""},f=function(e){if(e.assetName)return(0,Y.Pj)(e.assetName);var t=(0,Y.Vr)(e);return"".concat(t.slice(0,14),"...").concat(t.slice(t.length-5))};return{circleIcon:O.KS$,search:l,filteredTokens:i,addToken:c,getFormattedAssetValue:u,getAssetLogo:p,getBadgeTitle:f}},X=n(7650),J=(n(39714),{class:"flex flex-col"}),ee={class:"pl-2 mb-1"},te={class:"text-xs labelColor2"},ne={key:0,class:"flex flex-col mt-5 space-y-3"},ae={class:"flex p-2 justify-between"},le={class:"flex flex-col space-y-1"},re={class:"text-xs labelColor2"},oe={class:"text-xs font-medium labelColor3"},se={class:"flex flex-col space-y-1 items-end"},ie={class:"text-xs labelColor2 capitalize"},ce={class:"text-xs font-medium labelColor3"},ue={class:"w-full flex"},de={class:"px-2 py-1 flex items-center bg-primary-1 dark:bg-dark-3"},pe=["onClick"],fe={class:"pl-2 mt-2 mb-1"},me={class:"text-xs labelColor2"},ve={class:"flex border border-primary-8 dark:border-none rounded-md overflow-hidden"},ge={class:"text-xs my-3"},xe=["innerHTML"],be={class:"flex mt-5"};function we(e,t,n,r,o,s){var i,c,u,d=(0,a.up)("addressFieldVue"),p=(0,a.up)("AssetInputVue"),f=(0,a.up)("AppButtonVue");return(0,a.wg)(),(0,a.iD)("div",J,[(0,a._)("div",ee,[(0,a._)("span",te,(0,l.zw)(e.$t("enterAddress")),1)]),(0,a.Wm)(d,{address:e.sendAddr,"onUpdate:address":t[0]||(t[0]=function(t){return e.sendAddr=t}),adaHandle:e.adaHandle,showLoader:e.isAdahandleResolving},null,8,["address","adaHandle","showLoader"]),e.tokens.length?((0,a.wg)(),(0,a.iD)("div",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.assetIdToTokensMapWithAmount,(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{key:n,class:"w-full flex flex-col bg-primary-1 dark:bg-dark-3 border border-primary-8 dark:border-none divide-y divideColor rounded-md overflow-hidden"},[(0,a._)("div",ae,[(0,a._)("div",le,[(0,a._)("span",re,(0,l.zw)(e.$t("asset")),1),(0,a._)("span",oe,(0,l.zw)(e.getBadgeTitle(t)),1)]),(0,a._)("div",se,[(0,a._)("span",ie,(0,l.zw)(e.$t("totalBalance")),1),(0,a._)("span",ce,(0,l.zw)(e.getTokenBalance(t)),1)])]),(0,a._)("div",ue,[(0,a.Wm)(p,{class:"px-4 py-1",ref_for:!0,ref:"assetInput",decimals:e.getAssetDecimals(t),assetValue:t.amount.toString(),"onUpdate:assetValue":function(t){e.onUpdateTokenAmount(t,n)}},null,8,["decimals","assetValue","onUpdate:assetValue"]),(0,a._)("div",de,[(0,a._)("button",{onClick:function(t){return e.setMaxTokenAmount(n)},class:"py-2 px-3 bg-primary-10 hover:bg-primary-9 dark:bg-dark-2 labelColor3 text-xs rounded-md capitalize focus:outline-none"},(0,l.zw)(e.$t("setMax")),9,pe)])])])})),128))])):(0,a.kq)("",!0),(0,a._)("div",fe,[(0,a._)("span",me,"ADA "+(0,l.zw)(e.$t("amount")),1)]),(0,a._)("div",ve,[(0,a.Wm)(p,{class:"px-4 py-3",ref:"adaInput",decimals:6,assetValue:e.amount,"onUpdate:assetValue":t[1]||(t[1]=function(t){return e.amount=t})},null,8,["assetValue"])]),(0,a._)("div",ge,[(0,a._)("span",{class:(0,l.C_)(["rounded-full px-4 py-1 text-white",[e.errorMeta?"bg-red-400 ".concat(e.errorMeta.styleClass):"",null!==(i=e.errorMeta)&&void 0!==i&&i.onClick?"cursor-pointer":""]]),onClick:t[2]||(t[2]=function(){for(var t,n,a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(null===(t=e.errorMeta)||void 0===t?void 0:t.onClick)&&(null===(n=e.errorMeta)||void 0===n?void 0:n.onClick.apply(n,l))}),innerHTML:null!==(c=null===(u=e.errorMeta)||void 0===u?void 0:u.message)&&void 0!==c?c:"â€‹"},null,10,xe)]),(0,a._)("div",be,[(0,a.Wm)(f,{class:"text-sm btn btn-md border border-primary bg-primary text-white hover:bg-opacity-90 disabled:hover:bg-opacity-100 dark:disabled:bg-dark-4 dark:border-none tracking-wide w-full",onClick:e.buildTransaction,disabled:!e.enableSendButton},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,l.zw)(e.$t("continue")),1)]})),_:1},8,["onClick","disabled"])])])}n(54747),n(56977);var ye=n(7318),ke=n(14946),he=n(87941),Te=n(81671),_e=n(44431),Ie=n.n(_e),Ce=n(86021),Ne=(0,a.aZ)({props:{nfts:{type:Object,default:[]},tokens:{type:Object,default:[]}},components:{addressFieldVue:he.Z,AssetInputVue:ke.Z,AppButtonVue:ye.Z},setup:function(e){var t=(0,Te.N)(),n=(0,R.X)(),l=(0,a.Fl)((function(){return n.activeAccount})),r=(0,a.Fl)((function(){return l.value.tokenRegistry})),o=(0,K.iH)([]);o.value=e.tokens.map((function(e){return(0,d.Z)((0,d.Z)({},e),{},{amount:new(Ie())(0)})}));var s=e.tokens.reduce((function(e,t){return e[(0,Ce.getAssetId)(t)]=t,e}),{});(0,a.YP)(o,(function(){t.setAllTokens(o.value.map((function(e){return(0,d.Z)((0,d.Z)({},e),{},{amount:new(Ie())(e.amount)})})))}),{deep:!0}),(0,a.bv)((function(){e.nfts.forEach((function(e){t.addToken({policyId:e.policyId,assetName:e.assetName,amount:new(Ie())(1)})}))}));var i=function(e){var t=r.value[(0,Ce.getAssetId)(e)],n=t&&t.decimals?t.decimals:0;return(0,Y.oW)(s[(0,Ce.getAssetId)(e)].amount,n).toFixed(n)},c=function(e){var t=r.value[(0,Ce.getAssetId)(e)];return t&&t.decimals?t.decimals:0},u=function(e){if(e.assetName)return(0,Y.Pj)(e.assetName);var t=(0,Y.Vr)({assetName:e.assetName,policyId:e.policyId,amount:e.amount});return"".concat(t.slice(0,14),"...").concat(t.slice(t.length-5))},p=function(e){var t=o.value[e];o.value[e].amount=s[(0,Ce.getAssetId)(t)].amount},f=function(e,t){o.value[t].amount=new(Ie())(e)};return(0,d.Z)((0,d.Z)({},t),{},{getTokenBalance:i,getAssetDecimals:c,getBadgeTitle:u,assetIdToTokensMapWithAmount:o,assetIdToTokensMap:s,setMaxTokenAmount:p,onUpdateTokenAmount:f})}}),Ae=n(83744);const ze=(0,Ae.Z)(Ne,[["render",we]]);var Fe=ze,Se=n(7043),De=(0,a.aZ)({name:"TokensTab",components:{TokenDetails:q.Z,AppPopover:E.Z,SearchIcon:P},setup:function(){var e=G(),t=(0,K.iH)({}),n=(0,Se.QT)(),l=n.t,r=function(e){t.value[e.assetId]?t.value[e.assetId]=!1:t.value[e.assetId]=!0},o=(0,a.Fl)((function(){var e=Object.values(t.value);return e.some((function(e){return!!e}))})),s=function(){var n=e.filteredTokens.value.filter((function(e){return!!t.value[e.assetId]}));X.vG.openDialog({title:l("transaction"),component:Fe,size:X.v7.lg,props:{tokens:n}})};return(0,d.Z)((0,d.Z)({},e),{},{selectedTokens:t,selectIcon:O.k6A,toggleSelection:r,sendSelectedTokens:s,isAnyTokenSelected:o,mdiSend:O.NN1})}});const Ze=(0,Ae.Z)(De,[["render",U]]);var $e=Ze,je={key:0,class:"flex flex-col items-center justify-center py-40"},Me={class:"mt-3 font-medium text-primary-30 text-xl"},He={key:1,class:"flex flex-col pt-1 items-start"},We={class:"flex items-center justify-between w-full"},Ve={class:"flex rounded-md bg-primary-3 dark:bg-dark-3"},Be={class:"pl-3 flex items-center pointer-events-none"},Le=["placeholder"],Ue=["disabled"],Pe={class:"flex items-center justify-between space-x-3"},qe={class:"font-medium"},Ee={class:"mt-6 flex flex-col w-full"},Ke={class:"rounded-lg flex items-center justify-between rounded-md px-3 py-2 bg-gray-100 dark:bg-dark-1"},Ye={class:"flex items-center"},Oe=(0,a._)("span",{class:"text-xs font-medium labelColor3"},"Policy",-1),Qe={class:"text-xs font-medium labelColor2 ml-3"},Re=["onClick"],Ge={class:"flex items-center justify-between pl-2.5 pr-1 space-x-3"},Xe={class:"font-medium"},Je={class:"flex flex-row items-stretch flex-wrap gap-y-2 gap-x-2 p-3"},et=["onClick"],tt=["src","alt","onerror"],nt=["src","alt","onerror"],at=["href"],lt={class:"mt-3 flex flex-col w-48 items-start labelColor3"},rt={class:"text-xs font-medium"},ot=(0,a._)("div",{class:"flex-grow"},null,-1),st={class:"mt-4 w-48 flex space-x-1"},it={class:"w-full"},ct={class:"w-full border border-primary rounded py-1.5 shadow-sm text-primary text-center text-xs hover:bg-white dark:hover:bg-dark-2 flex items-center justify-between pl-2.5 pr-1 rounded-md"},ut={class:"font-medium"},dt={class:"w-full"},pt=["onClick"],ft={class:"font-medium"};function mt(e,t,n,r,o,s){var i=(0,a.up)("md-icon"),c=(0,a.up)("SearchIcon"),u=(0,a.up)("token-details"),d=(0,a.up)("AppPopover"),f=(0,a.Q2)("end-truncate"),m=(0,a.Q2)("tippy");return 0==e.filteredTokens.length&&""==e.search?((0,a.wg)(),(0,a.iD)("div",je,[(0,a.Wm)(i,{icon:e.squareIcon,size:75,class:"text-primary-30"},null,8,["icon"]),(0,a._)("span",Me,(0,l.zw)(e.$t("noNFTS")),1)])):((0,a.wg)(),(0,a.iD)("div",He,[(0,a._)("div",We,[(0,a._)("div",Ve,[(0,a._)("div",Be,[(0,a.Wm)(c,{class:"h-5 w-5 text-gray-500","aria-hidden":"true"})]),(0,a.wy)((0,a._)("input",{type:"text",class:"placeholder-gray-500 focus:outline-none p-3 text-xs w-full bg-white bg-opacity-0 dark:text-white w-[600px] max-w-full",placeholder:e.$t("nftSearch"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.search=t})},null,8,Le),[[p.nr,e.search]])]),(0,a._)("button",{onClick:t[1]||(t[1]=function(){return e.sendSelectedNFTs&&e.sendSelectedNFTs.apply(e,arguments)}),class:(0,l.C_)(["rounded-xl py-3 shadow-sm text-center text-xs text-white pl-4 pr-2",e.isAnyNFTSelected?"bg-primary hover:bg-opacity-90":"bg-gray-400"]),disabled:!e.isAnyNFTSelected},[(0,a._)("div",Pe,[(0,a._)("span",qe,(0,l.zw)(e.$t("sendSelectedNFTs")),1),(0,a.Wm)(i,{icon:e.mdiSend,size:20},null,8,["icon"])])],10,Ue)]),(0,a._)("div",Ee,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.groupedByPolicyNFTs,(function(n,r){return(0,a.wg)(),(0,a.iD)("div",{key:r,class:"flex flex-col mb-5"},[(0,a._)("div",Ke,[(0,a._)("div",Ye,[Oe,(0,a._)("span",Qe,(0,l.zw)(r),1)]),(0,a._)("button",{onClick:function(t){return e.toggleCollectionSelection(r)},class:(0,l.C_)(["rounded-lg py-2 shadow-sm text-center text-xs",e.selectedCollections[r]?"bg-primary text-white hover:bg-opacity-90":"border border-primary text-primary hover:bg-white dark:hover:bg-dark-2"])},[(0,a._)("div",Ge,[(0,a._)("span",Xe,(0,l.zw)(e.$t("selectCollection")),1),(0,a.Wm)(i,{icon:e.selectIcon,size:20},null,8,["icon"])])],10,Re)]),(0,a._)("div",Je,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n,(function(n){return(0,a.wg)(),(0,a.iD)("div",{key:n.assetId,class:(0,l.C_)(["flex flex-col items-start p-2 rounded-md rounded-lg bg-primary-4 dark:bg-dark-3 dark:border-none",e.selectedNFTs[n.assetId]?"border-2 border-primary-50":""])},[(0,a._)("div",{class:"self-center w-48 h-48 relative flex justify-center text-xs cursor-pointer",onClick:function(){return e.openViewNFTModal(e.getImageUrl(n))}},["base64"==e.nftMetadata[e.$filters.getAssetId(n)].imageType?((0,a.wg)(),(0,a.iD)("img",{key:0,class:"h-full w-auto",src:e.nftMetadata[e.$filters.getAssetId(n)].image,alt:e.$t("imageNotAvailable"),onerror:function(e){e.target.style["padding-top"]="80px"}},null,8,tt)):"ipfs"==e.nftMetadata[e.$filters.getAssetId(n)].imageType?((0,a.wg)(),(0,a.iD)("img",{key:1,class:"h-full w-auto",src:"https://image-optimizer.jpgstoreapis.com/"+e.nftMetadata[e.$filters.getAssetId(n)].image,alt:e.$t("imageNotAvailable"),onerror:function(t){t.target.src="https://cloudflare-ipfs.com/ipfs/".concat(e.nftMetadata[e.$filters.getAssetId(n)].image)}},null,8,nt)):(0,a.kq)("",!0),(0,a._)("div",{onClick:t[2]||(t[2]=(0,p.iM)((function(){}),["stop"]))},[(0,a._)("a",{target:"_blank",href:"".concat(e.$env.explorer,"token/").concat(n.assetId),class:"absolute top-1 right-1 h-6 w-6 flex rounded justify-center items-center bg-primary hover:bg-opacity-90"},[(0,a.Wm)(i,{icon:e.expandIcon,size:18,class:"text-white"},null,8,["icon"])],8,at)])],8,et),(0,a._)("div",lt,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",rt,[(0,a.Uk)((0,l.zw)(e.getNftName(n)),1)])),[[f,23],[m,{content:e.getNftName(n)}]])]),ot,(0,a._)("div",st,[(0,a._)("div",it,[(0,a.Wm)(d,{class:"max-w-lg"},{button:(0,a.w5)((function(){return[(0,a._)("button",ct,[(0,a._)("span",ut,(0,l.zw)(e.$t("more")),1),(0,a.Wm)(i,{icon:e.mdiMenuDown,size:20},null,8,["icon"])])]})),popup:(0,a.w5)((function(){return[(0,a.Wm)(u,{token:n,description:e.getNftDescription(n)},null,8,["token","description"])]})),_:2},1024)]),(0,a._)("div",dt,[(0,a._)("button",{onClick:function(t){return e.toggleSelection(n)},class:(0,l.C_)(["w-full rounded py-1.5 shadow-sm text-center text-xs flex items-center justify-between pl-2.5 pr-1 rounded-md",e.selectedNFTs[n.assetId]?"bg-primary text-white hover:bg-opacity-90":"border border-primary text-primary hover:bg-white dark:hover:bg-dark-2"])},[(0,a._)("span",ft,(0,l.zw)(e.$t("select")),1),(0,a.Wm)(i,{icon:e.selectIcon,size:20},null,8,["icon"])],10,pt)])])],2)})),128))])])})),128))])]))}var vt=n(66353),gt=n(61372),xt=(n(82526),n(41817),{class:"h-full flex items-center justify-center"}),bt=["src","alt","onerror"];function wt(e,t,n,l,r,o){return(0,a.wg)(),(0,a.iD)("div",xt,[(0,a._)("img",{src:e.imageUrl,style:{height:"600px",width:"800px"},class:"object-contain",alt:e.$t("imageNotAvailable"),onerror:function(e){e.target.style["padding-top"]="80px"}},null,8,bt)])}var yt=(0,a.aZ)({props:{imageUrl:String}});const kt=(0,Ae.Z)(yt,[["render",wt]]);var ht=kt,Tt=n(96486),_t=n.n(Tt),It=function(){var e=(0,Q.tv)(),t=(0,R.X)(),n=(0,a.Fl)((function(){return t.activeAccount})),l=(0,K.iH)(""),r=(0,K.iH)(20),o=(0,K.iH)(0),s=(0,K.iH)(0),i=(0,a.Fl)((function(){return n.value.tokenRegistry})),c=(0,a.Fl)((function(){return n.value.nftMetadata})),u=(0,a.Fl)((function(){return n.value.tokenBalance.map((function(e){return(0,d.Z)((0,d.Z)({},e),{},{assetId:(0,Y.TN)(e)})}))})),p=(0,a.Fl)((function(){var e=u.value.filter((function(e){return void 0!==c.value[(0,Y.TN)(e)]&&e.amount.eq(1)}));return e.filter((function(e){return e.policyId.includes(l.value)||(0,Y.TN)(e).includes(l.value)||(0,Y.Vr)(e).includes(l.value)||(0,Y.Pj)(e.assetName).toLowerCase().includes(l.value.toLowerCase())||e.assetName.toLowerCase().includes(l.value.toLowerCase())}))})),f=(0,K.iH)([]);(0,a.YP)(p,(function(e,t){_t().isEqual(e,t)||(o.value=1,m())}));var m=function(){var e;1==o.value&&(f.value=[]);var t=(o.value-1)*r.value,n=p.value.slice(t,t+r.value);(e=f.value).push.apply(e,(0,gt.Z)(n))},v=function(){f.value.length!=p.value.length&&(o.value++,m())},g=function(t){e.push({path:"/wallet",query:{action:"addToken",assetId:(0,Y.TN)(t)}})},x=function(e){X.vG.openDialog({component:ht,size:X.v7.maxContent,style:"margin: 0px; padding: 0px;",titleStyle:"margin: 0px;",props:{imageUrl:e}})},b=function(e){var t=c.value[(0,Y.TN)(e)];return"base64"==t.imageType?t.image:"https://image-optimizer.jpgstoreapis.com/"+t.image},w=function(e){var t=c.value[(0,Y.TN)(e)];return t.name?t.name:""},y=function(e){var t=c.value[(0,Y.TN)(e)];return t.description?t.description:""};return{addToken:g,getImageUrl:b,getNftName:w,openViewNFTModal:x,getNftDescription:y,tokenRegistryMetadata:i,nftMetadata:c,tokens:u,filteredTokens:p,paginatedTokens:f,expandIcon:O.fOx,circleIcon:O.KS$,squareIcon:O.iG$,search:l,limit:r,pageNo:o,count:s,loadNextPage:v}},Ct=["loadNextPage","paginatedTokens"],Nt=(0,a.aZ)({name:"TokensTab",components:{TokenDetails:q.Z,AppPopover:E.Z,SearchIcon:P},setup:function(){var e=(0,Se.QT)(),t=e.t,n=It(),l=n.loadNextPage,r=n.paginatedTokens,o=(0,vt.Z)(n,Ct),s=(0,K.iH)({}),i=(0,K.iH)({}),c=(0,a.Fl)((function(){var e=Object.values(s.value);return e.some((function(e){return!!e}))})),u=(0,a.Fl)((function(){return _t().groupBy(r.value,(function(e){return e.policyId}))})),p=function(){var e=document.querySelector("#lc");e&&(e.scrollHeight>e.clientHeight||(l(),f()))},f=_t().debounce(p,500),m=function(){var e=document.querySelector("#lc");e&&e.scrollTop+e.clientHeight>=e.scrollHeight-100&&l()},v=_t().debounce(m,100);(0,a.Ah)((function(){var e;null===(e=document.getElementById("lc"))||void 0===e||e.removeEventListener("scroll",v,!0)})),(0,a.bv)((function(){var e;null===(e=document.getElementById("lc"))||void 0===e||e.addEventListener("scroll",v,!0),l(),l(),f()}));var g=function(e){s.value[e.assetId]?s.value[e.assetId]=!1:s.value[e.assetId]=!0},x=function(e){i.value[e]?(i.value[e]=!1,u.value[e].forEach((function(e){s.value[e.assetId]=!1}))):(i.value[e]=!0,u.value[e].forEach((function(e){s.value[e.assetId]=!0})))},b=function(){var e=r.value.filter((function(e){return!!s.value[e.assetId]}));X.vG.openDialog({title:t("transaction"),component:Fe,size:X.v7.lg,props:{nfts:e}})};return(0,d.Z)((0,d.Z)({paginatedTokens:r},o),{},{groupedByPolicyNFTs:u,selectIcon:O.k6A,mdiMenuDown:O.iW9,selectedNFTs:s,toggleSelection:g,selectedCollections:i,toggleCollectionSelection:x,sendSelectedNFTs:b,isAnyNFTSelected:c,mdiSend:O.NN1})}});const At=(0,Ae.Z)(Nt,[["render",mt]]);var zt=At,Ft=(0,a.aZ)({name:"Tokens List",components:{TokensTab:$e,NFTsTab:zt},setup:function(){var e=(0,K.iH)("nft"),t=(0,Se.QT)(),n=t.t,l=(0,R.X)(),r=(0,a.Fl)((function(){var e,t;return null!==(e=null===(t=l.activeAccount)||void 0===t?void 0:t.nftMetadata)&&void 0!==e?e:{}}));function o(t){e.value=t}var s=(0,a.Fl)((function(){var e,t;return(null!==(e=null===(t=l.activeAccount)||void 0===t?void 0:t.tokenBalance)&&void 0!==e?e:[]).map((function(e){return(0,d.Z)((0,d.Z)({},e),{},{assetId:(0,Y.TN)(e)})}))})),i=(0,a.Fl)((function(){var e=s.value.filter((function(e){return void 0===r.value[(0,Y.TN)(e)]||e.amount.gt(1)})).length,t=s.value.filter((function(e){return void 0!==r.value[(0,Y.TN)(e)]&&e.amount.eq(1)})).length;return[{name:n("nfts"),value:"nft",count:t},{name:n("tokens"),value:"tokens",count:e}]}));return{tabs:i,currentTab:e,changeTab:o}}});const St=(0,Ae.Z)(Ft,[["render",u]]);var Dt=St}}]);