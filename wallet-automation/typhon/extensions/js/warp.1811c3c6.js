(this["webpackChunktyphon"]=this["webpackChunktyphon"]||[]).push([[423],{6790:function(e,t,n){"use strict";var a=n(17854),r=n(43157),s=n(26244),i=n(49974),o=a.TypeError,l=function(e,t,n,a,c,u,d,p){var m,f,v=c,x=0,g=!!d&&i(d,p);while(x<a){if(x in n){if(m=g?g(n[x],x,t):n[x],u>0&&r(m))f=s(m),v=l(e,t,m,f,v,u-1)-1;else{if(v>=9007199254740991)throw o("Exceed the acceptable array length");e[v]=m}v++}x++}return v};e.exports=l},86535:function(e,t,n){"use strict";var a=n(82109),r=n(6790),s=n(19662),i=n(47908),o=n(26244),l=n(65417);a({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),a=o(n);return s(e),t=l(n,0),t.length=r(t,n,n,a,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},84944:function(e,t,n){"use strict";var a=n(82109),r=n(6790),s=n(47908),i=n(26244),o=n(19303),l=n(65417);a({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),n=i(t),a=l(t,0);return a.length=r(a,t,t,n,0,void 0===e?1:o(e)),a}})},99244:function(e,t,n){var a=n(51223);a("flatMap")},33792:function(e,t,n){var a=n(51223);a("flat")},14019:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return bn}});var a=n(66252),r=n(56612),s={key:0,class:"card"},i={class:"flex flex-col"},o=(0,a._)("h1",{class:"font-medium labelColor3"},"Warp Transactions",-1),l={class:"mt-1 text-xs labelColor2"},c={class:"bg-[#273659] p-5 rounded-2xl mt-6"},u={class:"grid md:grid-cols-2 gap-x-5 gap-y-5"},d={class:"xl:w-[90%]"},p={class:"flex gap-x-3 items-center"},m=(0,a._)("div",{class:"w-7 h-7 bg-white rounded-full flex justify-center items-center"},[(0,a._)("span",{class:"text-sm font-semibold"},"1")],-1),f={class:"text-white text-base"},v={class:"border border-dashed h-44 w-full rounded-lg mt-4 border-gray-400 p-2 relative"},x={key:0,class:"flex justify-center items-center h-full"},g={class:"xl:w-64"},w={class:"text-white flex text-center xl:text-left text-xs font-light"},h={key:1,class:"flex items-start flex-wrap gap-x-2 gap-y-1 overflow-auto"},y={class:"max-w-max text-[10px] text-white bg-[#1b263d] p-0.5 pl-2 rounded-md text-center flex items-center gap-x-3"},k={class:"tracking-wide"},b={class:"bg-[#55617a] max-w-max px-2 h-5 rounded-md flex items-center justify-center text-xs"},_=["onClick"],C={class:"mt-2 bg-white w-8 h-8 justify-center items-center flex rounded-full"},T={class:"xl:w-[90%]"},A=(0,a._)("div",{class:"flex gap-x-2 items-center"},[(0,a._)("div",{class:"w-7 h-7 bg-white rounded-full flex justify-center items-center"},[(0,a._)("span",{class:"text-sm font-semibold"},"2")]),(0,a._)("div",null,[(0,a._)("span",{class:"text-white text-base"},"Receiver")])],-1),D={class:"border border-dashed md:h-44 w-full rounded-lg mt-4 border-gray-400 relative py-4 px-5"},R={key:0,class:"h-full"},W={class:"h-full flex flex-col justify-between bg-[#57637e] p-2 rounded-md"},Z={class:"break-all tracking-wide text-sm font-mono text-white"},S={key:1,class:"flex justify-center items-center h-full"},z=(0,a._)("div",{class:"xl:w-64"},[(0,a._)("span",{class:"text-white flex text-center xl:text-left text-xs font-light"}," Enter receiver address, adahandle or select from contacts. ")],-1),H={class:"flex flex-col items-center mt-10 xl:w-[95%] w-full"},I={class:"h-10 flex items-center justify-center"},j={class:"text-red-500 text-xs"},M=(0,a._)("span",{class:"ml-5"}," WARP ",-1),$={class:"mt-10"},F={key:1};function B(e,t,n,B,N,E){var L=(0,a.up)("md-icon"),P=(0,a.up)("font-awesome-icon"),q=(0,a.up)("WarpIcon"),K=(0,a.up)("TransactionsVue"),Y=(0,a.up)("WarpDisabledCard");return e.isWarpEnabled?((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[o,(0,a._)("h3",l,(0,r.zw)(e.$t("warpTransactionDescription")),1)]),(0,a._)("div",c,[(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("div",p,[m,(0,a._)("div",null,[(0,a._)("span",f,(0,r.zw)(e.$t("addTokens")),1)])]),(0,a._)("div",v,[e.addedTokens.length?((0,a.wg)(),(0,a.iD)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.addedTokens,(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{key:t.policyId,class:"flex gap-x-1 items-center"},[(0,a._)("div",y,[(0,a._)("span",k,(0,r.zw)(e.decodeTokenName(t.assetName)),1),(0,a._)("div",b,(0,r.zw)(e.getAssetWithDecimals(t)),1)]),(0,a._)("button",{onClick:function(t){return e.deleteToken(n)},class:"bg-red-500 w-5 h-5 rounded-full font bold flex justify-center items-center text-white hover:opacity-90"},[(0,a.Wm)(P,{class:"w-3 h-3 font-bold",icon:"minus"})],8,_)])})),128))])):((0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("button",{onClick:t[0]||(t[0]=function(){return e.openAddTokensModal&&e.openAddTokensModal.apply(e,arguments)}),class:"bg-[#57637e] rounded-xl p-4 mx-10 flex items-center w-full justify-center gap-x-6 gap-y-2 hover:opacity-90"},[(0,a._)("div",null,[(0,a.Wm)(L,{icon:e.circleIcon,size:60,class:"text-white"},null,8,["icon"])]),(0,a._)("div",g,[(0,a._)("span",w,(0,r.zw)(e.$t("clickToAddTokens")),1)])])])),e.addedTokens.length>0?((0,a.wg)(),(0,a.iD)("button",{key:2,onClick:t[1]||(t[1]=function(){return e.openAddTokensModal&&e.openAddTokensModal.apply(e,arguments)}),class:"absolute bottom-3 right-3 w-full flex justify-end hover:opacity-90"},[(0,a._)("div",C,[(0,a.Wm)(P,{class:"w-5 h-5 font-bold",icon:"plus"})])])):(0,a.kq)("",!0)])]),(0,a._)("div",T,[A,(0,a._)("div",D,[e.isAddressField?((0,a.wg)(),(0,a.iD)("div",R,[(0,a._)("div",W,[(0,a._)("span",Z,(0,r.zw)(e.receivingAddress),1),(0,a._)("button",{onClick:t[2]||(t[2]=function(){return e.openReceiverAddress&&e.openReceiverAddress.apply(e,arguments)}),class:"mt-3 md:mt-0 text-xs py-2 btn bg-white dark:bg-white hover:bg-opacity-90 dark:hover:bg-opacity-80 border border-primary-10 w-full uppercase text-primary font-medium"}," EDIT ADDRESS ")])])):((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("button",{onClick:t[3]||(t[3]=function(){return e.openReceiverAddress&&e.openReceiverAddress.apply(e,arguments)}),class:"bg-[#57637e] rounded-xl p-5 flex w-full items-center justify-center gap-x-6 gap-y-2 hover:opacity-90 mx-10"},[(0,a._)("div",null,[(0,a.Wm)(P,{class:"text-white w-10 h-10",icon:"user"})]),z])]))])])]),(0,a._)("div",H,[(0,a._)("div",I,[(0,a._)("span",j,(0,r.zw)(e.transactionError),1)]),(0,a._)("button",{onClick:t[4]||(t[4]=function(){return e.createTransaction&&e.createTransaction.apply(e,arguments)}),class:"tracking-[0.3rem] font-medium bg-white rounded-lg flex justify-center items-center hover:opacity-90 py-3 pl-14 pr-16"},[(0,a.Wm)(q,{class:"h-7 w-7"}),M])])]),(0,a._)("div",$,[(0,a.Wm)(K)])])):((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(Y)]))}var N=n(95082),E=n(56664),L=n(48534),P=(n(35666),n(40561),n(21249),n(74916),n(23123),n(41539),n(39714),n(2262)),q=n(7650),K=n(85716),Y=n(93513),O=n(4e4),G={class:"flex flex-col"},U={class:"pl-2 mb-1"},X={class:"text-xs labelColor2"},Q={class:"text-xs my-3"},V=["innerHTML"],J={class:"flex mt-5"};function ee(e,t,n,s,i,o){var l,c,u,d=(0,a.up)("address-field"),p=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",G,[(0,a._)("div",U,[(0,a._)("span",X,(0,r.zw)(e.$t("enterAddress")),1)]),(0,a.Wm)(d,{address:e.receivingAddress,"onUpdate:address":t[0]||(t[0]=function(t){return e.receivingAddress=t}),adaHandle:e.adaHandle,showLoader:e.isAdahandleResolving,rows:3},null,8,["address","adaHandle","showLoader"]),(0,a._)("div",Q,[(0,a._)("span",{class:(0,r.C_)(["rounded-full px-4 py-1 text-white",[e.errorMeta?"bg-red-400 ".concat(e.errorMeta.styleClass):"",null!==(l=e.errorMeta)&&void 0!==l&&l.onClick?"cursor-pointer":""]]),onClick:t[1]||(t[1]=function(){for(var t,n,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(null===(t=e.errorMeta)||void 0===t?void 0:t.onClick)&&(null===(n=e.errorMeta)||void 0===n?void 0:n.onClick.apply(n,r))}),innerHTML:null!==(c=null===(u=e.errorMeta)||void 0===u?void 0:u.message)&&void 0!==c?c:"â€‹"},null,10,V)]),(0,a._)("div",J,[(0,a.Wm)(p,{isLoading:e.isProcessing,disabled:e.isProcessing,class:"btn btn-md btn-primary flex-grow",onClick:e.updateReceivingAddress},{default:(0,a.w5)((function(){return[(0,a._)("span",null,(0,r.zw)(e.$t("continue")),1)]})),_:1},8,["isLoading","disabled","onClick"])])])}n(23157);var te=n(87941),ne=n(394),ae=n(79524),re=n(59528),se=n(61372),ie=(n(57327),n(26699),n(32023),n(86535),n(99244),n(69826),n(92222),n(54747),n(84944),n(33792),n(2707),n(51532),n(78783),n(33948),n(21703),n(32277)),oe=n(25889),le=n(63616);n(30907);var ce=n(44431),ue=n.n(ce),de=n(96486);n(43679),n(25480);function pe(e){var t=["0","1","2","3"],n=e.substring(0,2),a=e.substring(2);return t.includes(n[0]),a.substring(56)}var me=n(7318),fe=n(60064),ve=(0,a.aZ)({components:{AddressField:te.Z,AppButton:me.Z},props:{onSetStakeKey:{type:Function,required:!0}},setup:function(e){var t=(0,ne.H)(),n=(0,P.iH)(""),r=(0,P.iH)(!1),s=(0,P.iH)(""),i=(0,P.iH)(!1),o=(0,P.iH)(!1),l=(0,O.X)(),c=(0,a.Fl)((function(){return l.activeAccount}));function u(){return d.apply(this,arguments)}function d(){return d=(0,L.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.onSetStakeKey||!f.value){t.next=16;break}return r.value=!0,t.prev=2,t.next=5,(0,oe.Z9)(f.value);case 5:a=t.sent,e.onSetStakeKey(n.value,a),q.vG.closeDialog(),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),fe.k.error(t.t0);case 13:return t.prev=13,r.value=!0,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[2,10,13,16]])}))),d.apply(this,arguments)}var p,m=function(){var e=(0,L.Z)(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i.value=!0,o.value=!1,e.next=4,t.resolveAndSetAdahandle([a]);case 4:t.addressAdahandleBidirectionalMap[a]?(n.value=t.addressAdahandleBidirectionalMap[a],s.value=a):o.value=!0,i.value=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,a.YP)(n,(function(){if(""==n.value&&(s.value=""),n.value.startsWith("$")){clearTimeout(p);var e=n.value;p=setTimeout((function(){m(e)}),1e3)}}));var f=(0,a.Fl)((function(){var e;try{e=re.utils.getAddressFromBech32(n.value);var t=pe(e.getHex());if(null==t)throw"Invalid address";return t}catch(a){return""}})),v=(0,a.Fl)((function(){if(""!=n.value){if(n.value.startsWith("$"))return o.value?{message:"Invalid adahandle",styleClass:"",onClick:function(){return{}}}:void 0;var e=(0,ae.Ks)(n.value,c.value.currency.networkId);return e?""==f.value?{message:"Invalid address",styleClass:"",onClick:function(){return{}}}:void 0:{message:"Invalid address",styleClass:"",onClick:function(){return{}}}}}));return{adaHandle:s,receivingAddress:n,isAdahandleResolving:i,updateReceivingAddress:u,errorMeta:v,isProcessing:r}}}),xe=n(83744);const ge=(0,xe.Z)(ve,[["render",ee]]);var we=ge,he=(0,a._)("div",null,[(0,a._)("span",{class:"font-medium labelColor3"},"Pending Warp Transactions")],-1),ye={class:"overflow-x-auto mt-4 space-y-2"},ke={key:0,class:"w-full px-5 py-6 card2 flex justify-center"},be={class:"text-sm text-gray-600"},_e={class:"flex items-center justify-between flex-wrap gap-y-2"},Ce={class:"flex flex-col gap-y-1"},Te={class:"flex gap-x-2 items-center"},Ae={class:"break-all labelColor3 font-mono font-medium text-sm"},De={class:"flex items-center mt-1"},Re={class:"ml-1 text-xs text-primary-80"},We={class:"ml-2 text-xs labelColor2"},Ze={key:0,class:"flex items-center"},Se={class:"text-gray-500 dark:text-gray-300 mr-2"},ze={class:"mr-1"},He=["onClick"],Ie=["onClick"],je={key:0},Me={key:1},$e={key:1,class:"flex items-center"},Fe={class:"bg-red-400 text-white text-xs rounded-md px-3 py-1"},Be={key:0,class:"w-full border-t border-primary-8 dark:border-gray-600 border-dashed my-3"},Ne={key:1,class:"ml-1 flex flex-wrap gap-x-1 gap-y-1"},Ee={class:"max-w-max text-sm text-white bg-[#273659] dark:bg-black py-1 pr-1 pl-2 rounded-md text-center flex items-center gap-x-2"},Le={class:"tracking-wide text-[10px]"},Pe={class:"bg-[#55617a] dark:bg-gray-600 max-w-max px-1.5 rounded-md flex items-center justify-center text-[10px]"};function qe(e,t,n,s,i,o){var l=(0,a.up)("md-icon"),c=(0,a.up)("ada"),u=(0,a.up)("TokenDetails"),d=(0,a.up)("AppPopover"),p=(0,a.Q2)("tippy");return(0,a.wg)(),(0,a.iD)("div",null,[he,(0,a._)("div",ye,[0==e.transactions.length?((0,a.wg)(),(0,a.iD)("div",ke,[(0,a._)("span",be,(0,r.zw)(e.$t("noTransactions")),1)])):((0,a.wg)(!0),(0,a.iD)(a.HY,{key:1},(0,a.Ko)(e.transactions,(function(t){return(0,a.wg)(),(0,a.iD)("div",{key:t.transactionId,class:"w-full px-5 py-3 card2"},[(0,a._)("div",_e,[(0,a._)("div",Ce,[(0,a._)("div",Te,[(0,a._)("span",Ae,(0,r.zw)(t.transactionId),1)]),(0,a._)("div",De,[(0,a.Wm)(l,{icon:e.timeIcon,size:14,class:"text-primary-80"},null,8,["icon"]),(0,a._)("span",Re,(0,r.zw)(e.$t("expires")),1),(0,a._)("span",We,(0,r.zw)(t.formattedTTL)+" ("+(0,r.zw)(t.expiresIn)+") ",1)])]),t.rejected?((0,a.wg)(),(0,a.iD)("div",$e,[(0,a._)("div",Fe,[(0,a._)("span",null,(0,r.zw)(e.$t("rejected")),1)])])):((0,a.wg)(),(0,a.iD)("div",Ze,[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:(0,r.C_)(["flex items-center text-xs mr-3",[t.showFeesAsSpent?"text-red-600":"text-gray-500 dark:text-gray-300"]])},[(0,a._)("span",Se,(0,r.zw)(e.$t("fee")),1),(0,a._)("span",ze,(0,r.zw)(e.$filters.formatADA(t.fees)),1),(0,a.Wm)(c,{class:"h-2.5 w-2.5 mb-0.5"})],2)),[[p,{content:e.$t("feePaidBySender")}]]),t.showSignButton?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:function(n){return e.signTransaction(t.transactionInstance)},class:"mr-1 bg-primary border border-primary text-white text-xs rounded-md hover:opacity-90 px-3 py-1"},(0,r.zw)(e.$t("accept")),9,He)):(0,a.kq)("",!0),(0,a._)("button",{onClick:function(){t.transactionInstance&&e.rejectTransaction(t.transactionInstance)},class:"bg-red-500 border border-red-500 text-white text-xs rounded-md hover:opacity-90 px-3 py-1"},[t.showSignButton?((0,a.wg)(),(0,a.iD)("span",je,(0,r.zw)(e.$t("reject")),1)):((0,a.wg)(),(0,a.iD)("span",Me,(0,r.zw)(e.$t("cancel")),1))],8,Ie)]))]),t.rejected?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Be)),t.rejected?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",Ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.tokens,(function(t,n){return(0,a.wg)(),(0,a.iD)("div",{key:n},[(0,a.Wm)(d,{class:"max-w-md",placement:""},{button:(0,a.w5)((function(){return[(0,a._)("div",Ee,[(0,a._)("span",Le,(0,r.zw)(e.decodeTokenName(t.assetName)),1),(0,a._)("div",Pe,(0,r.zw)(e.getAssetWithDecimals(t)),1)])]})),popup:(0,a.w5)((function(){return[(0,a.Wm)(u,{token:t},null,8,["token"])]})),_:2},1024)])})),128))]))])})),128))])])}var Ke=n(66218),Ye=n(55317),Oe={class:"text-sm"},Ge={key:0},Ue={class:"space-y-3"},Xe={class:"flex flex-col space-y-1 card2 py-2 px-3"},Qe={class:"text-xs font-semibold labelColor2"},Ve={key:0,class:"flex flex-col space-y-2"},Je={class:"text-xs max-w-max break-all"},et={class:"max-w-max break-all labelColor2 font-mono"},tt={key:1,class:"text-sm max-w-max break-all labelColor3 font-mono"},nt={key:0,class:"flex space-x-10 card2 py-2 px-3"},at={class:"flex flex-col"},rt={class:"text-xs font-semibold labelColor2"},st={class:"mt-1 flex items-baseline space-x-2 labelColor3"},it={class:"flex flex-col"},ot={class:"text-xs font-semibold labelColor2"},lt={class:"mt-1 flex items-baseline space-x-2 labelColor3"},ct={key:1,class:"card2 py-2 px-3"},ut={class:"text-xs font-semibold labelColor2"},dt={key:0},pt={key:1},mt={class:"mt-2 flex flex-wrap gap-x-2 gap-y-1"},ft={key:2,class:"card2 py-2 px-3"},vt={class:"text-xs font-semibold labelColor2"},xt={key:0},gt={key:1},wt={class:"mt-1 flex items-baseline space-x-2 labelColor3"},ht={key:1,class:"card2 px-3 py-2 my-5"},yt={class:"flex items-center w-full labelColor2"},kt={class:"flex-grow text-xs font-semibold"},bt={class:"flex-initial"},_t={class:"flex w-full space-x-5 justify-center"};function Ct(e,t,n,s,i,o){var l=(0,a.up)("ScamAddressWarningVue"),c=(0,a.up)("ContactAndAdahandleLabel"),u=(0,a.up)("DecimalNumberVue"),d=(0,a.up)("ada"),p=(0,a.up)("TokenBadge"),m=(0,a.up)("font-awesome-icon"),f=(0,a.up)("TransactionDetails"),v=(0,a.up)("AppExpand"),x=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",Oe,[(0,a._)("div",null,[e.isPossibleScam?((0,a.wg)(),(0,a.iD)("div",Ge,[(0,a.Wm)(l,{class:"mb-2"})])):(0,a.kq)("",!0),(0,a._)("div",Ue,[(0,a._)("div",Xe,[(0,a._)("span",Qe,(0,r.zw)(e.$t("address")),1),e.adaHandle||e.contactName?((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a.Wm)(c,{adaHandle:e.adaHandle,contactName:e.contactName},null,8,["adaHandle","contactName"]),(0,a._)("p",Je,[(0,a._)("span",et,(0,r.zw)(e.sendAddr),1)])])):((0,a.wg)(),(0,a.iD)("span",tt,(0,r.zw)(e.sendAddr),1))]),e.isReceiver?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",nt,[(0,a._)("div",at,[(0,a._)("span",rt,(0,r.zw)(e.$t("amount")),1),(0,a._)("div",st,[(0,a.Wm)(u,{value:e.$filters.formatADA(e.calculatedSendAmount),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,a.Wm)(d,{class:"h-3.5 w-3.5"})])]),(0,a._)("div",it,[(0,a._)("span",ot,(0,r.zw)(e.$t("fees")),1),(0,a._)("div",lt,[(0,a.Wm)(u,{value:e.$filters.formatADA(e.transactionFee),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,a.Wm)(d,{class:"h-3.5 w-3.5"})])])])),e.tokens.length?((0,a.wg)(),(0,a.iD)("div",ct,[(0,a._)("div",ut,[e.isReceiver?((0,a.wg)(),(0,a.iD)("span",dt,(0,r.zw)(e.$t("tokensToBeReceived")),1)):((0,a.wg)(),(0,a.iD)("span",pt,(0,r.zw)(e.$t("tokens")),1))]),(0,a._)("div",mt,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tokens,(function(e,t){return(0,a.wg)(),(0,a.j4)(p,{key:t,token:e},null,8,["token"])})),128))])])):(0,a.kq)("",!0),e.isHdToSingleAddressTransaction?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ft,[(0,a._)("div",vt,[e.isReceiver?((0,a.wg)(),(0,a.iD)("span",xt,(0,r.zw)(e.$t("totalAdaToBeReceived")),1)):((0,a.wg)(),(0,a.iD)("span",gt,(0,r.zw)(e.$t("totalAdaToBeSpent")),1))]),(0,a._)("div",wt,[(0,a.Wm)(u,{value:e.$filters.formatADA(e.totalTransactionAmount),integralClasses:"text-lg font-semibold"},null,8,["value"]),(0,a.Wm)(d,{class:"h-3.5 w-3.5"})])]))]),e.transaction?((0,a.wg)(),(0,a.iD)("div",ht,[(0,a.Wm)(v,null,{primary:(0,a.w5)((function(t){var n=t.open;return[(0,a._)("div",yt,[(0,a._)("div",kt,(0,r.zw)(e.$t("moreDetails")),1),(0,a._)("div",bt,[(0,a.Wm)(m,{icon:"chevron-right",class:(0,r.C_)(["w-4 h-4 mr-0",{"transform rotate-90":n}])},null,8,["class"])])])]})),secondary:(0,a.w5)((function(){return[(0,a.Wm)(f,{transaction:e.transaction},null,8,["transaction"])]})),_:1})])):(0,a.kq)("",!0),(0,a._)("div",_t,[(0,a.Wm)(x,{isLoading:!1,disabled:e.isTransactionSubmitting,class:"btn btn-md btn-primary-outline flex-grow",onClick:e.close},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t("cancel")),1)]})),_:1},8,["disabled","onClick"]),(0,a.Wm)(x,{isLoading:e.isTransactionSubmitting,disabled:e.isTransactionSubmitting,class:"btn btn-md btn-primary capitalize flex-grow",onClick:e.confirm},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t("confirm")),1)]})),_:1},8,["isLoading","disabled","onClick"])])])])}n(68309);var Tt=n(79036),At=n(47646),Dt=n(47455),Rt=n(33119),Wt=n(91756),Zt=n(65549),St=n(7043),zt=n(30656),Ht=n(54037),It=n(51068),jt=n(80099),Mt=n(5938),$t=(0,a.aZ)({name:"ConfirmTransactionModal",components:{TokenBadge:Tt.Z,DecimalNumberVue:Dt.Z,ScamAddressWarningVue:Rt.Z,ContactAndAdahandleLabel:Wt.Z,TransactionDetails:Ht.Z,AppButton:me.Z,AppExpand:It.Z},props:{transaction:{type:[re.Transaction,Ke.c],required:!0},callback:{type:Function,required:!0},isReceiver:{type:Boolean,required:!0}},setup:function(e){var t=(0,St.QT)(),n=t.t,r=(0,P.iH)(!1),s=(0,O.X)(),i=(0,ne.H)(),o=(0,P.iH)([]),l=(0,ne.H)(),c=s.activeAccount;(0,a.bv)((function(){u()}));var u=function(){var e=(0,L.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,Zt.K2)();case 2:t=e.sent,o.value=t.filter((function(e){return e.network==le.Z.value.NETWORK}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=e.transaction.getOutputs(),p=d[0].address.getBech32(),m=(0,a.Fl)((function(){return l.addressAdahandleBidirectionalMap[p]})),f=[],v=!1,x=(0,jt.uc)(e.transaction,(0,de.keyBy)([].concat((0,se.Z)(c.externalCredentials),(0,se.Z)(c.internalCredentials)),(function(e){return e.hash}))),g=x.tokens,w=(0,a.Fl)((function(){var e;return null===(e=o.value.find((function(e){return e.address===p})))||void 0===e?void 0:e.name})),h=e.transaction.getFee(),y=x.ada.multipliedBy(-1),k=y,b=y.minus(h),_=(0,a.Fl)((function(){return l.possibleScamAddressesMap[p]})),C=function(){q.vG.openDialog({component:At.Z,props:{title:e.isReceiver?n("warpTransactionComplete"):n("warpTransactionCreated"),description:e.isReceiver?n("warpTransactionCompleteDescription"):n("warpTransactionCreatedDescription"),alertType:ie.NK.INFO},size:q.v7.lg})},T=function(){q.vG.openDialog({component:At.Z,props:{title:n("failedToSubmitTrx"),description:n("somethingWentWrong"),alertType:ie.NK.ERROR},size:q.v7.lg})};function A(){q.vG.closeDialog()}function D(e){return R.apply(this,arguments)}function R(){return R=(0,L.Z)(regeneratorRuntime.mark((function t(n){var a,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r.value=!0,t.prev=1,!e.isReceiver){t.next=9;break}return t.next=5,i.signAndSubmitTx(e.transaction,!1,n);case 5:a=t.sent,a.status?(C(),e.callback()):T(),t.next=17;break;case 9:return s=(0,Mt.t)(),t.next=12,i.getSignedTx(e.transaction,!1,null!==n&&void 0!==n?n:s.mnemonic);case 12:return o=t.sent,t.next=15,(0,oe.Hk)(o);case 15:C(),e.callback();case 17:t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](1),fe.k.error(t.t0),T();case 23:return t.prev=23,r.value=!1,t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[1,19,23,26]])}))),R.apply(this,arguments)}function W(){return Z.apply(this,arguments)}function Z(){return Z=(0,L.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:le.Z.value.IS_EXTENSION&&"MNEMONIC"===(null===(t=s.activeAccount)||void 0===t?void 0:t.walletType)?q.qH.openDialog({component:zt.Z,size:q.v7.maxContent,props:{onConfirmPassword:function(e){q.qH.closeDialog(),D(e)}}}):D();case 1:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}return{transactionFee:h,isPossibleScam:_,contactName:w,tokens:g,isTransactionSubmitting:r,adaHandle:m,sendAddr:p,calculatedSendAmount:b,metadataList:f,isHdToSingleAddressTransaction:v,totalTransactionAmount:k,confirm:W,close:A}}});const Ft=(0,xe.Z)($t,[["render",Ct]]);var Bt=Ft,Nt=n(45364),Et=n(23009),Lt=(n(82526),n(41817),{class:"max-w-lg"}),Pt={class:"sm:flex sm:items-start"},qt={class:"mx-auto flex-shrink-0 flex items-center justify-center h-10 sm:mx-0 w-10 sm:h-10 rounded-full bg-primary-10"},Kt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Yt={class:"mt-2"},Ot=["innerHTML"],Gt={class:"mt-5 flex justify-end items-center space-x-3"};function Ut(e,t,n,s,i,o){var l=(0,a.up)("font-awesome-icon"),c=(0,a.up)("DialogTitle"),u=(0,a.up)("AppButton");return(0,a.wg)(),(0,a.iD)("div",Lt,[(0,a._)("div",Pt,[(0,a._)("div",qt,[(0,a.Wm)(l,{icon:"info",class:"h-6 w-6 text-primary","aria-hidden":"true"})]),(0,a._)("div",Kt,[(0,a.Wm)(c,{as:"h3",class:"text-lg leading-6 font-medium labelColor3"},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.title),1)]})),_:1}),(0,a._)("div",Yt,[(0,a._)("p",{class:"text-xs text-gray-500 break-word",innerHTML:e.description},null,8,Ot)])])]),(0,a._)("div",Gt,[(0,a._)("button",{type:"button",class:"btn bg-gray-300 text-xs w-full sm:w-20 uppercase px-4 py-2 hover:bg-opacity-80",onClick:t[0]||(t[0]=function(){return e.onNo&&e.onNo.apply(e,arguments)})},(0,r.zw)(e.$t("no")),1),(0,a.Wm)(u,{isLoading:e.isProcessing,disabled:e.isProcessing,class:"btn bg-primary text-xs w-full sm:w-20 uppercase px-4 py-2 font-medium text-white hover:bg-opacity-80",onClick:e.onYes},{default:(0,a.w5)((function(){return[(0,a.Uk)((0,r.zw)(e.$t("yes")),1)]})),_:1},8,["isLoading","disabled","onClick"])])])}var Xt=n(23611),Qt=(0,a.aZ)({name:"ConfirmDialog",props:{onConfirm:{type:Function,required:!0},onCancel:{type:Function},title:{type:String,required:!0},description:{type:String,required:!0}},components:{DialogTitle:Xt.$N,AppButton:me.Z},setup:function(e){var t=(0,P.iH)(!1);function n(){return a.apply(this,arguments)}function a(){return a=(0,L.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.value=!0,!e.onConfirm){n.next=4;break}return n.next=4,e.onConfirm();case 4:t.value=!1,i();case 6:case"end":return n.stop()}}),n)}))),a.apply(this,arguments)}function r(){return s.apply(this,arguments)}function s(){return s=(0,L.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i(),e.onCancel&&e.onCancel(!1);case 2:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function i(){return o.apply(this,arguments)}function o(){return o=(0,L.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:q.vG.closeDialog();case 1:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}return{onYes:n,onNo:r,closeDialog:i,isProcessing:t}}});const Vt=(0,xe.Z)(Qt,[["render",Ut]]);var Jt=Vt,en=n(27484),tn=n.n(en),nn=n(48764)["Buffer"],an=(0,a.aZ)({components:{TokenDetails:Nt.Z,AppPopover:Et.Z},setup:function(){var e=(0,O.X)(),t=(0,a.Fl)((function(){return e.activeAccount})),n=(0,St.QT)(),r=n.t,s=(0,a.Fl)((function(){return t.value.utxos.map((function(e){return{trx:"".concat(e.txId,"#").concat(e.index),address:e.address,amount:e.amount.toString(),paymentCredential:{key:e.paymentCredential.hash},tokens:e.tokens}}))})),i=(0,a.Fl)((function(){return t.value.blockedUtxos.map((function(e){return{trx:"".concat(e.txId,"#").concat(e.index),address:e.address,amount:e.amount.toString(),paymentCredential:{key:e.paymentCredential.hash},tokens:e.tokens}}))})),o=(0,a.Fl)((function(){return[].concat((0,se.Z)(t.value.externalCredentials),(0,se.Z)(t.value.internalCredentials),[t.value.stakeCredential]).map((function(e){var t={bipPath:e.path.toObject(),key:e.hash};return t}))})),l=(0,a.Fl)((function(){return t.value.warpTxs.map((function(e){var n=tn()(e.ttl).diff(tn()(Date.now()),"minutes",!0),a=parseInt((n/60).toString()),r=tn()().minute(n).minute();if(!e.cborHex)return{rejected:!0,transactionId:e.hash,formattedTTL:tn()(new Date(e.ttl)).format("MMMM D, YYYY h:mm A"),fees:"",tokens:[],transactionInstance:null,showSignButton:!1,showFeesAsSpent:!1,expiresIn:"".concat(a," Hours ").concat(r," Mins")};var l=new Ke.c(nn.from(e.cborHex,"hex"),[].concat((0,se.Z)(s.value),(0,se.Z)(i.value)),o.value,t.value.stakeCredential.path.toObject()),c=(0,jt.uc)(l,(0,de.keyBy)([].concat((0,se.Z)(t.value.externalCredentials),(0,se.Z)(t.value.internalCredentials)),(function(e){return e.hash}))),u={rejected:!1,transactionId:l.getTransactionHash().toString("hex"),fees:l.getFee(),tokens:c.tokens,transactionInstance:l,showSignButton:(0,jt.BZ)(t.value,l),showFeesAsSpent:!c.ada.isZero(),formattedTTL:tn()(new Date(e.ttl)).format("MMMM D, YYYY h:mm A"),expiresIn:"".concat(a," Hours ").concat(r," Mins")};return u}))}));function c(e){return u.apply(this,arguments)}function u(){return u=(0,L.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:q.vG.openDialog({component:Bt,title:r("transactionConfirmModalTitle"),size:q.v7["2xl"],props:{transaction:t,isReceiver:!0,callback:function(){v()}}});case 1:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function d(e){return p.apply(this,arguments)}function p(){return p=(0,L.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:q.vG.openDialog({component:Jt,props:{alertType:ie.NK.ERROR,title:r("confirmWarpRejectTitle"),description:r("confirmWarpRejectDescription"),onConfirm:function(){var e=(0,L.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()},size:q.v7["2xl"]});case 1:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return f=(0,L.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,oe.X$)(t.getTransactionHash().toString("hex"));case 3:return e.next=5,v();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),q.vG.openDialog({component:At.Z,props:{alertType:ie.NK.ERROR,title:r("somethingWentWrong"),description:r("failedToRejectWarpTransaction")},size:q.v7.lg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),f.apply(this,arguments)}function v(){return x.apply(this,arguments)}function x(){return x=(0,L.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.syncAccountByIndex(t.value.index);case 2:case"end":return n.stop()}}),n)}))),x.apply(this,arguments)}var g=(0,a.Fl)((function(){return t.value.tokenRegistry}));function w(e){return(0,Y.UH)(e,g.value)}return{transactions:l,dateIcon:Ye.in9,timeIcon:Ye.yFX,signTransaction:c,decodeTokenName:Y.Pj,getAssetWithDecimals:w,rejectTransaction:d}}});const rn=(0,xe.Z)(an,[["render",qe]]);var sn=rn,on=n(2847),ln=n(59391),cn={class:"card"},un={class:"flex flex-col items-center py-10"},dn=(0,a._)("span",{class:"mt-10 labelColor3 text-xl font-medium"},"Warp Transactions",-1),pn={class:"mt-2 max-w-[500px] text-center"},mn={class:"text-sm labelColor2"},fn=(0,a._)("a",{target:"_blank",href:"https://medium.com/@StricaHQ/introducing-warp-transactions-689d3e1339c7",class:"text-sm text-primary-90 hover:underline mt-3"},"https://medium.com/@StricaHQ/introducing-warp-transactions-689d3e1339c7",-1),vn=(0,a._)("div",{class:"flex items-center mt-3"},[(0,a._)("span",{class:"text-sm labelColor2"},"Here's a video explainer from NovaPool"),(0,a._)("a",{target:"_blank",href:"https://youtu.be/IjUz8e7bOSI",class:"ml-2 text-sm text-primary-90 hover:underline"},"https://youtu.be/IjUz8e7bOSI")],-1);function xn(e,t,n,s,i,o){var l=(0,a.up)("WarpIcon");return(0,a.wg)(),(0,a.iD)("div",cn,[(0,a._)("div",un,[(0,a.Wm)(l,{class:"h-24 w-24 labelColor1"}),dn,(0,a._)("div",pn,[(0,a._)("span",mn,(0,r.zw)(e.$t("enableWarpDescription")),1)]),fn,vn,(0,a._)("button",{onClick:t[0]||(t[0]=function(){return e.onEnable&&e.onEnable.apply(e,arguments)}),class:"mt-10 btn btn-primary btn-md"},(0,r.zw)(e.$t("enable")),1)])])}var gn=(0,a.aZ)({components:{WarpIcon:on.Z},setup:function(){var e=(0,ln.F)(),t=(0,O.X)();function n(){return a.apply(this,arguments)}function a(){return a=(0,L.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.enableWarp(),t.syncAccountByIndex(t.activeAccount.index);case 2:case"end":return n.stop()}}),n)}))),a.apply(this,arguments)}return{onEnable:n}}});const wn=(0,xe.Z)(gn,[["render",xn]]);var hn=wn,yn=(0,a.aZ)({components:{TransactionsVue:sn,WarpIcon:on.Z,WarpDisabledCard:hn},setup:function(){var e=(0,St.QT)(),t=e.t,n=(0,P.iH)(""),r=(0,P.iH)([]),s=(0,P.iH)([]),i=(0,P.iH)(),o=(0,P.iH)(""),l=(0,O.X)(),c=(0,a.Fl)((function(){return l.activeAccount})),u=(0,P.iH)(!1),d=(0,ln.F)(),p=(0,a.Fl)((function(){return d.isWarpEnabled})),m=function(e){s.value.push(e)},f=(0,a.Fl)((function(){return c.value.tokenRegistry}));function v(e){return(0,Y.UH)(e,f.value)}function x(){q.vG.openDialog({title:"Add Tokens",component:K.Z,size:q.v7["2xl"],props:{addToken:m,tokenBalance:c.value.tokenBalance,getAddedTokens:function(){return s.value}}})}function g(e){s.value.splice(e,1)}function w(){q.vG.openDialog({title:"Receiver Address",component:we,size:q.v7.lg,props:{onSetStakeKey:function(e,t){n.value=e,r.value=t,u.value=!0}}})}function h(){return y.apply(this,arguments)}function y(){return y=(0,L.Z)(regeneratorRuntime.mark((function e(){var a,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.value&&0!=s.value.length){e.next=2;break}return e.abrupt("return");case 2:a={type:"WarpTransaction",recipient:n.value,recipientUtxos:r.value.map((function(e){var t=e.trx.split("#"),n=(0,E.Z)(t,2),a=n[0],r=n[1];return{blockHeight:void 0,address:e.address,txId:a,index:parseInt(r),amount:new(ue())(e.amount),stakeCredential:e.stakeCredential?{hash:e.stakeCredential.key,type:"ADDRESS"}:void 0,paymentCredential:{hash:e.paymentCredential.key,type:"ADDRESS"},tokens:e.tokens.map((function(e){return{assetName:e.assetName,policyId:e.policyId,amount:new(ue())(e.amount)}}))}})),tokens:s.value.map((function(e){return(0,N.Z)((0,N.Z)({},e),{},{amount:e.amount.toString()})}))};try{l=(0,ae.Lv)(c.value,a),"OK"===l.status?(i.value=l.unsignedTx,o.value="",q.vG.openDialog({component:Bt,title:t("transactionConfirmModalTitle"),size:q.v7["2xl"],props:{transaction:i.value,isReceiver:!1,callback:function(){i.value=void 0,n.value="",r.value=[],s.value=[],u.value=!1,k()}}})):(i.value=void 0,o.value=t("somethingWentWrong"))}catch(d){o.value=t("receiverNotHaveEnoughADA")}case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function k(){return b.apply(this,arguments)}function b(){return b=(0,L.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.syncAccountByIndex(c.value.index);case 1:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}return{addedTokens:s,receivingAddress:n,isAddressField:u,openAddTokensModal:x,decodeTokenName:Y.Pj,getAssetWithDecimals:v,deleteToken:g,openReceiverAddress:w,circleIcon:Ye.KS$,createTransaction:h,isWarpEnabled:p,transactionError:o}}});const kn=(0,xe.Z)(yn,[["render",B]]);var bn=kn}}]);