<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Blockchain management module"><title>blockchain - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="blockchain" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (0288f2e19 2023-09-25)" data-channel="nightly" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../blockchain/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../blockchain/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate blockchain</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">blockchain</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/blockchain/lib.rs.html#1-68">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="blockchain-management-module"><a href="#blockchain-management-module">Blockchain management module</a></h2>
<p>this module provides a high level API to manage the blockchain and the different
state it may be. Allowing tracking different branches and to be able to make simple
informed decisions as to what is the tip of the blockchain or what is a valid block.</p>
<h3 id="reference"><a href="#reference">Reference</a></h3>
<p>the <code>Reference</code> holds the state information at the given block. It can be used to
know the blockdate, the chainlength etcâ€¦ but it also links to the epoch information
such as the current leadership schedule: this is core to validate a block.</p>
<p>From a <code>Reference</code> it is possible to <code>chain</code> a <code>Block</code>. This means creating a new
reference with a derive state from the previous <code>Reference</code>. This operation will
do all the necessary verifications.</p>
<h3 id="epochinfo"><a href="#epochinfo">EpochInfo</a></h3>
<p>The <code>EpochInfo</code> is the data tied to a given Epoch: the TimeFrame, the stake
distribution, the leadership schedule, the ledger parameters (fees, etcâ€¦).
When chaining a <code>Block</code> with a <code>Reference</code>, if an epoch transition occurs,
a new <code>EpochInfo</code> will be constructed for the new epoch.</p>
<h3 id="selection-between-2-branches"><a href="#selection-between-2-branches">Selection between 2 branches</a></h3>
<p>In some consensus, it may be that there are multiple competing blocks for the
same slot in the blockchain. It is possible to use <code>select</code> to compare the
2 different <code>Reference</code>.</p>
<h3 id="checkpoints"><a href="#checkpoints">Checkpoints</a></h3>
<p>From any reference, it is possible to build <code>Checkpoints</code>. These is a list
of header ID (blockâ€™s header hash) that are selected arbitrarily from the
given <code>Reference</code>. They can be used to send to the network or storage as
hints of where to start from when requiring a stream of blocks from one of
the header ID in the Checkpoints.</p>
<h2 id="the-blockchain-manager"><a href="#the-blockchain-manager">The Blockchain manager</a></h2>
<p>the <code>Blockchain</code> is a simple collection object that will keep track of the
different branches and blocks as well as the Tip of the blockchain. It will
garbage collect the <code>Reference</code> that are not used to prevent keeping too
much non needed data in memory.</p>
<p>When adding a new block, the blockchain will lookup for the best option
regarding branch management. It will first look for an existing branch
to continue it or will create a new branch if required.</p>
<p>If the block is added successfully, the <code>Event::Added</code> will be returned.
It contains the details as to what and how it was added. A new branch
may have been created, it may even be the new tip. It will also tell if an
epoch transition occurs: that way the application may notify the different
module with the appropriate data.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="block0/index.html" title="mod blockchain::block0">block0</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="blockchain/index.html" title="mod blockchain::blockchain">blockchain</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="checkpoints/index.html" title="mod blockchain::checkpoints">checkpoints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="epoch_info/index.html" title="mod blockchain::epoch_info">epoch_info</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="reference/index.html" title="mod blockchain::reference">reference</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Blockchain.html" title="struct blockchain::Blockchain">Blockchain</a></div></li><li><div class="item-name"><a class="struct" href="struct.Checkpoints.html" title="struct blockchain::Checkpoints">Checkpoints</a></div><div class="desc docblock-short">different checkpoints in time of the blockchain</div></li><li><div class="item-name"><a class="struct" href="struct.Configuration.html" title="struct blockchain::Configuration">Configuration</a></div><div class="desc docblock-short">configuration entries for the blockchain parameters</div></li><li><div class="item-name"><a class="struct" href="struct.EpochInfo.html" title="struct blockchain::EpochInfo">EpochInfo</a></div></li><li><div class="item-name"><a class="struct" href="struct.Reference.html" title="struct blockchain::Reference">Reference</a></div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.EpochInfoError.html" title="enum blockchain::EpochInfoError">EpochInfoError</a></div></li><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum blockchain::Error">Error</a></div></li><li><div class="item-name"><a class="enum" href="enum.Event.html" title="enum blockchain::Event">Event</a></div></li><li><div class="item-name"><a class="enum" href="enum.Selection.html" title="enum blockchain::Selection">Selection</a></div></li></ul></section></div></main></body></html>